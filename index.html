<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤íŒ¸ ë©”ì¼ êµ¬ë¶„ ê²Œì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 90%;
            min-height: 600px;
            overflow: hidden;
        }

        .screen {
            display: none;
            padding: 40px;
            text-align: center;
        }

        .screen.active {
            display: block;
        }

        /* ì‹œì‘ í™”ë©´ */
        .start-screen h1 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .start-screen p {
            color: #666;
            font-size: 1.2em;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .start-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.3em;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* ê²Œì„ í™”ë©´ */
        .game-screen {
            padding: 20px;
            text-align: left;
        }

        .email-header {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px 8px 0 0;
            padding: 20px;
        }

        .email-meta {
            display: grid;
            grid-template-columns: 100px 1fr;
            gap: 10px;
            margin-bottom: 15px;
            text-align: left;
        }

        .email-meta .label {
            font-weight: bold;
            color: #495057;
        }

        .email-meta .value {
            color: #212529;
        }

        .email-subject {
            font-size: 1.4em;
            font-weight: bold;
            color: #212529;
            margin-bottom: 10px;
        }

        .email-content {
            background: white;
            border: 1px solid #dee2e6;
            border-top: none;
            padding: 30px;
            min-height: 300px;
            line-height: 1.8;
            font-size: 1.1em;
            color: #333;
            white-space: pre-line;
        }

        .email-content .link {
            color: #007bff;
            text-decoration: underline;
            cursor: pointer;
        }

        .progress-bar {
            background: #e9ecef;
            height: 8px;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(45deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .spam-btn, .normal-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .spam-btn {
            background: #dc3545;
            color: white;
        }

        .spam-btn:hover {
            background: #c82333;
            transform: translateY(-2px);
        }

        .normal-btn {
            background: #28a745;
            color: white;
        }

        .normal-btn:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        /* ê²°ê³¼ í™”ë©´ */
        .result-screen h2 {
            color: #333;
            font-size: 2.2em;
            margin-bottom: 30px;
        }

        .score-display {
            font-size: 1.5em;
            margin-bottom: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .score-correct {
            color: #28a745;
            font-weight: bold;
        }

        .score-wrong {
            color: #dc3545;
            font-weight: bold;
        }

        .result-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }

        .explanation-btn, .restart-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .explanation-btn {
            background: #17a2b8;
            color: white;
        }

        .explanation-btn:hover {
            background: #138496;
        }

        .restart-btn {
            background: #6c757d;
            color: white;
        }

        .restart-btn:hover {
            background: #5a6268;
        }

        /* í•´ì„¤ í™”ë©´ */
        .explanation-screen {
            text-align: left;
            padding: 30px;
        }

        .explanation-screen h2 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        .explanation-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #dc3545;
        }

        .explanation-item.normal {
            border-left: 4px solid #dc3545;
        }

        .explanation-item h3 {
            color: #dc3545;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .explanation-item.normal h3 {
            color: #dc3545;
        }

        .explanation-item h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .explanation-points {
            color: #666;
            line-height: 1.8;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            font-size: 1.1em;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #5a6268;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .container {
                width: 95%;
                margin: 10px;
            }

            .screen {
                padding: 20px;
            }

            .game-screen {
                padding: 15px;
            }

            .action-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .spam-btn, .normal-btn {
                width: 100%;
            }

            .email-meta {
                grid-template-columns: 80px 1fr;
            }

            .start-screen h1 {
                font-size: 2em;
            }

            .result-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="screen active" id="startScreen">
            <h1>ğŸ›¡ï¸ ìŠ¤íŒ¸ ë©”ì¼ êµ¬ë¶„ ê²Œì„</h1>
            <p>
                <br>
                ìŠ¤íŒ¸ ë©”ì¼ì„ êµ¬ë¶„í•˜ëŠ” ëŠ¥ë ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!<br>
                5ê°œì˜ ì´ë©”ì¼ì„ ë³´ê³  ìŠ¤íŒ¸ì¸ì§€ ì •ìƒ ë©”ì¼ì¸ì§€ íŒë‹¨í•˜ì„¸ìš”.<br>
                êµìœ¡ì ì¸ í•´ì„¤ë„ í•¨ê»˜ ì œê³µë©ë‹ˆë‹¤.<br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                
            </p>
            <button class="start-btn" onclick="startGame()">ê²Œì„ ì‹œì‘</button>
        </div>

        <!-- ê²Œì„ í™”ë©´ -->
        <div class="screen" id="gameScreen">
            <div class="progress-text">ë¬¸ì œ <span id="currentQuestion">1</span> / 5</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="email-header">
                <div class="email-meta">
                    <div class="label">ë³´ë‚¸ ì‚¬ëŒ:</div>
                    <div class="value" id="emailSender"></div>
                    <div class="label">ë°›ëŠ” ì‚¬ëŒ:</div>
                    <div class="value" id="emailReceiver"></div>
                    <div class="label">ë‚ ì§œ:</div>
                    <div class="value" id="emailDate"></div>
                </div>
                <div class="email-subject" id="emailSubject"></div>
            </div>
            
            <div class="email-content" id="emailContent"></div>
            
            <div class="action-buttons">
                <button class="spam-btn" onclick="selectAnswer(true)">ğŸš« ìŠ¤íŒ¸ ë©”ì¼</button>
                <button class="normal-btn" onclick="selectAnswer(false)">âœ… ì •ìƒ ë©”ì¼</button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="screen" id="resultScreen">
            <h2>ğŸ¯ ê²Œì„ ì™„ë£Œ!</h2>
                <br>
            <div class="score-display">
                ì´ 5ë¬¸ì œ ì¤‘<br>
                <span class="score-correct" id="correctCount">0</span>ê°œ ì •ë‹µ,
                <span class="score-wrong" id="wrongCount">0</span>ê°œ ì˜¤ë‹µ
            </div>
            <div id="scoreMessage"></div>
            <div class="result-buttons">
                <button class="explanation-btn" onclick="showExplanation()">ğŸ“š í•´ì„¤ ë³´ê¸°</button>
                <button class="restart-btn" onclick="restartGame()">ğŸ”„ ë‹¤ì‹œ í•˜ê¸°</button>
            </div>
        </div>

        <!-- í•´ì„¤ í™”ë©´ -->
        <div class="screen" id="explanationScreen">
            <h2>ğŸ“š ìŠ¤íŒ¸ ë©”ì¼ ì‹ë³„ í•´ì„¤</h2>
            
            <div class="explanation-item" id="spamExplanation1">
                <h3>1ë²ˆ ë©”ì¼ (ìŠ¤íŒ¸)</h3>
                <h4>[êµ­ì„¸ì²­] 2024ë…„ë„ ì„¸ê¸ˆ í™˜ê¸‰ ëŒ€ìƒì ì•ˆë‚´</h4>
                <div class="explanation-points">
                    - ì •ë¶€ ë„ë©”ì¸ ì•„ë‹˜: nts-taxkr.co.kr â†’ ì‹¤ì œ êµ­ì„¸ì²­ì€ gov.kr, nts.go.kr ì‚¬ìš©<br>
                    - ì„¸ê¸ˆ í™˜ê¸‰ê¸ˆ ì§€ê¸‰ì„ ë¯¸ë¼ë¡œ í´ë¦­ ìœ ë„<br>
                    - ê³„ì¢Œ ë° ì£¼ë¯¼ë²ˆí˜¸ ì…ë ¥ ìš”êµ¬ ê°€ëŠ¥ì„±<br>
                    - êµ­ì„¸ì²­ì€ ì ˆëŒ€ ì´ë©”ì¼ë¡œ í™˜ê¸‰ ì‹ ì²­ ë§í¬ ë³´ë‚´ì§€ ì•ŠìŒ
                </div>
            </div>

            <div class="explanation-item" id="spamExplanation2">
                <h3>2ë²ˆ ë©”ì¼ (ìŠ¤íŒ¸)</h3>
                <h4>[Netflix] ê²°ì œ ì˜¤ë¥˜ë¡œ ì¸í•´ ê³„ì •ì´ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤</h4>
                <div class="explanation-points">
                    - ê³„ì • ì •ì§€ë¼ëŠ” ë§ë¡œ ì‹¬ë¦¬ì  ì••ë°•<br>
                    - ê°€ì§œ ë§í¬(netflix-update-payment.com) ì‚¬ìš©<br>
                    - ê²°ì œ ì •ë³´ ì—…ë°ì´íŠ¸ ë¹™ì â†’ ì¹´ë“œ ì •ë³´ ìœ ë„<br>
                    - ê³µì‹ NetflixëŠ” ì´ë©”ì¼ë¡œ ì¹´ë“œì •ë³´ ìš”êµ¬í•˜ì§€ ì•ŠìŒ
                </div>
            </div>

            <div id="normalEmailExplanations"></div>

            <button class="back-btn" onclick="showResult()">â† ê²°ê³¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
    </div>

    <script>
        // ê²Œì„ ë°ì´í„°
        const emails = [
            {
                sender: "noreply@nts-taxkr.co.kr",
                receiver: "í™ê¸¸ë™ë‹˜",
                date: "2024ë…„ 7ì›” 1ì¼",
                subject: "[êµ­ì„¸ì²­] 2024ë…„ë„ ì„¸ê¸ˆ í™˜ê¸‰ ëŒ€ìƒì ì•ˆë‚´",
                content: `ì•ˆë…•í•˜ì„¸ìš”, êµ­ì„¸ì²­ì…ë‹ˆë‹¤.

í™ê¸¸ë™ ë‹˜ì€ 2024ë…„ë„ ì¢…í•©ì†Œë“ì„¸ ì •ì‚° ê²°ê³¼ì— ë”°ë¼ 89,500ì›ì˜ ì„¸ê¸ˆ í™˜ê¸‰ ëŒ€ìƒìë¡œ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.
í™˜ê¸‰ê¸ˆ ì§€ê¸‰ì„ ìœ„í•´ ì•„ë˜ ë§í¬ë¥¼ í†µí•´ ê³„ì¢Œ ì •ë³´ ë° ì‹ ì› ì¸ì¦ì„ ì™„ë£Œí•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ğŸ‘‰ í™˜ê¸‰ ì‹ ì²­í•˜ê¸°

ì‹ ì²­ ë§ˆê°ì¼: 2025ë…„ 7ì›” 3ì¼

â€» í™˜ê¸‰ ì‹ ì²­ ë§ˆê°ì¼ê¹Œì§€ í™•ì¸í•˜ì§€ ì•Šìœ¼ë©´ ìë™ ì†Œë©¸ ì²˜ë¦¬ë©ë‹ˆë‹¤.
â€» ë³¸ ë©”ì¼ì€ ë°œì‹  ì „ìš©ì…ë‹ˆë‹¤.

ê°ì‚¬í•©ë‹ˆë‹¤.
êµ­ì„¸ì²­ ì „ìì„¸ê¸ˆíŒ€`,
                isSpam: true
            },
            {
                sender: "billing@netflix-support.co",
                receiver: "íšŒì›ë‹˜",
                date: "2025ë…„ 7ì›” 1ì¼",
                subject: "[Netflix] ê²°ì œ ì˜¤ë¥˜ë¡œ ì¸í•´ ê³„ì •ì´ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤",
                content: `ì•ˆë…•í•˜ì„¸ìš”, Netflix ì‚¬ìš©ìë‹˜.

ìµœê·¼ ê²°ì œ ì •ë³´ ì²˜ë¦¬ ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ì—¬ íšŒì›ë‹˜ì˜ ê³„ì •ì´ ì¼ì‹œ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.
ì§€ì†ì ì¸ ì„œë¹„ìŠ¤ ì´ìš©ì„ ì›í•˜ì‹ ë‹¤ë©´ ì•„ë˜ ë§í¬ë¥¼ í†µí•´ ê²°ì œ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ğŸ‘‰ ê²°ì œ ì •ë³´ ì—…ë°ì´íŠ¸

ì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•˜ì§€ ì•Šìœ¼ë©´ ê³„ì •ì´ ìë™ í•´ì§€ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë¶ˆí¸ì„ ë“œë ¤ ì£„ì†¡í•©ë‹ˆë‹¤.

ê°ì‚¬í•©ë‹ˆë‹¤.
Netflix ê³ ê°ì§€ì›íŒ€`,
                isSpam: true
            },
            {
                sender: "hr@mycompany.co.kr",
                receiver: "ê¹€ì§ì›ë‹˜",
                date: "2025ë…„ 7ì›” 3ì¼",
                subject: "2025ë…„ í•˜ë°˜ê¸° ì •ê¸° ì¸ì‚¬ë°œë ¹ ì•ˆë‚´",
                content: `ì•ˆë…•í•˜ì„¸ìš”, ì¸ì‚¬íŒ€ì…ë‹ˆë‹¤.

2025ë…„ í•˜ë°˜ê¸° ì •ê¸° ì¸ì‚¬ë°œë ¹ì´ í™•ì •ë˜ì–´ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

ë°œë ¹ì¼: 2025ë…„ 7ì›” 15ì¼ (ì›”)
ëŒ€ìƒ: ì „ ì§ì›
ë°œë ¹ ë‚´ìš©: ì²¨ë¶€ëœ ì¸ì‚¬ë°œë ¹ ê³µë¬¸ì„œë¥¼ í™•ì¸í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ê¶ê¸ˆí•œ ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì¸ì‚¬íŒ€(ë‚´ì„  1234)ìœ¼ë¡œ ì—°ë½ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

ê°ì‚¬í•©ë‹ˆë‹¤.
ãˆœë§ˆì´ì»´í¼ë‹ˆ ì¸ì‚¬íŒ€`,
                isSpam: false
            },
            {
                sender: "notification@bank.co.kr",
                receiver: "ê³ ê°ë‹˜",
                date: "2025ë…„ 7ì›” 2ì¼",
                subject: "ì •ê¸°ì˜ˆê¸ˆ ë§Œê¸° ì•ˆë‚´",
                content: `ì•ˆë…•í•˜ì„¸ìš”, í•œêµ­ì€í–‰ì…ë‹ˆë‹¤.

ê³ ê°ë‹˜ê»˜ì„œ ê°€ì…í•˜ì‹  ì •ê¸°ì˜ˆê¸ˆì´ ë§Œê¸°ë¥¼ ì•ë‘ê³  ìˆì–´ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

ìƒí’ˆëª…: ì •ê¸°ì˜ˆê¸ˆ (ì—° 3.5%)
ê³„ì¢Œë²ˆí˜¸: ***-**-******78
ë§Œê¸°ì¼: 2025ë…„ 7ì›” 10ì¼
ë§Œê¸°ê¸ˆì•¡: 10,537,500ì›

ë§Œê¸° í›„ ì²˜ë¦¬ ë°©ë²•ì€ ì˜ì—…ì  ë°©ë¬¸ ë˜ëŠ” ì¸í„°ë„·ë±…í‚¹ì„ í†µí•´ ì„¤ì •í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¬¸ì˜ì‚¬í•­: ê³ ê°ì„¼í„° 1599-1234

ê°ì‚¬í•©ë‹ˆë‹¤.
í•œêµ­ì€í–‰`,
                isSpam: false
            },
            {
                sender: "service@onlinestore.co.kr",
                receiver: "íšŒì›ë‹˜",
                date: "2025ë…„ 7ì›” 4ì¼",
                subject: "ì£¼ë¬¸í•˜ì‹  ìƒí’ˆì˜ ë°°ì†¡ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤",
                content: `ì•ˆë…•í•˜ì„¸ìš”, ì˜¨ë¼ì¸ìŠ¤í† ì–´ì…ë‹ˆë‹¤.

ì£¼ë¬¸í•˜ì‹  ìƒí’ˆì˜ ë°°ì†¡ì´ ì‹œì‘ë˜ì–´ ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤.

ì£¼ë¬¸ë²ˆí˜¸: OS20250704-001
ìƒí’ˆëª…: ë¬´ì„  ë¸”ë£¨íˆ¬ìŠ¤ ì´ì–´í°
ë°°ì†¡ì—…ì²´: ëŒ€í•œí†µìš´
ì†¡ì¥ë²ˆí˜¸: 123456789012

ë°°ì†¡ í˜„í™©ì€ ë°°ì†¡ì—…ì²´ í™ˆí˜ì´ì§€ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì˜ˆìƒ ë„ì°©ì¼: 2025ë…„ 7ì›” 6ì¼

ë°°ì†¡ ê´€ë ¨ ë¬¸ì˜: ê³ ê°ì„¼í„° 1588-0000

ê°ì‚¬í•©ë‹ˆë‹¤.
ì˜¨ë¼ì¸ìŠ¤í† ì–´`,
                isSpam: false
            }
        ];

        // ê²Œì„ ìƒíƒœ
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let correctAnswers = 0;

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // ê²Œì„ ì‹œì‘
        function startGame() {
            currentQuestionIndex = 0;
            userAnswers = [];
            correctAnswers = 0;
            showScreen('gameScreen');
            displayCurrentEmail();
        }

        // í˜„ì¬ ì´ë©”ì¼ í‘œì‹œ
        function displayCurrentEmail() {
            if (currentQuestionIndex >= emails.length) return;
            
            const email = emails[currentQuestionIndex];
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('progressFill').style.width = `${(currentQuestionIndex / emails.length) * 100}%`;
            
            document.getElementById('emailSender').textContent = email.sender;
            document.getElementById('emailReceiver').textContent = email.receiver;
            document.getElementById('emailDate').textContent = email.date;
            document.getElementById('emailSubject').textContent = email.subject;
            document.getElementById('emailContent').textContent = email.content;
        }

        // ë‹µë³€ ì„ íƒ
        function selectAnswer(isSpamSelected) {
            if (currentQuestionIndex >= emails.length) return;
            
            const currentEmail = emails[currentQuestionIndex];
            const isCorrect = (isSpamSelected === currentEmail.isSpam);
            
            userAnswers.push({
                questionIndex: currentQuestionIndex,
                userAnswer: isSpamSelected,
                correctAnswer: currentEmail.isSpam,
                isCorrect: isCorrect,
                emailData: currentEmail
            });

            if (isCorrect) {
                correctAnswers++;
            }

            currentQuestionIndex++;

            if (currentQuestionIndex < emails.length) {
                // ë‹¤ìŒ ë¬¸ì œë¡œ
                setTimeout(() => {
                    displayCurrentEmail();
                }, 500);
            } else {
                // ê²Œì„ ì™„ë£Œ
                setTimeout(() => {
                    showResult();
                }, 500);
            }
        }

        // ê²°ê³¼ í‘œì‹œ
        function showResult() {
            const wrongAnswers = emails.length - correctAnswers;
            
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('wrongCount').textContent = wrongAnswers;
            
            let message = '';
            const percentage = (correctAnswers / emails.length) * 100;
            
            if (percentage === 100) {
                message = '<div style="color: #28a745; font-size: 1.3em; margin-top: 20px;">ğŸ‰ ì™„ë²½í•©ë‹ˆë‹¤! ìŠ¤íŒ¸ ë©”ì¼ ì‹ë³„ ì „ë¬¸ê°€ë„¤ìš”!</div>';
            } else if (percentage >= 80) {
                message = '<div style="color: #17a2b8; font-size: 1.2em; margin-top: 20px;">ğŸ‘ ë§¤ìš° ì¢‹ìŠµë‹ˆë‹¤! ëŒ€ë¶€ë¶„ì˜ ìŠ¤íŒ¸ì„ êµ¬ë¶„í•  ìˆ˜ ìˆì–´ìš”.</div>';
            } else if (percentage >= 60) {
                message = '<div style="color: #ffc107; font-size: 1.2em; margin-top: 20px;">âš ï¸ ë³´í†µì…ë‹ˆë‹¤. í•´ì„¤ì„ ë³´ê³  ë” í•™ìŠµí•´ë³´ì„¸ìš”.</div>';
            } else {
                message = '<div style="color: #dc3545; font-size: 1.2em; margin-top: 20px;">ğŸ“š í•´ì„¤ì„ ê¼­ í™•ì¸í•˜ì—¬ ìŠ¤íŒ¸ ë©”ì¼ ì‹ë³„ë²•ì„ ìµí˜€ë³´ì„¸ìš”!</div>';
            }
            
            document.getElementById('scoreMessage').innerHTML = message;
            showScreen('resultScreen');
        }

        // í•´ì„¤ ë³´ê¸°
        function showExplanation() {
            generateDynamicExplanations();
            showScreen('explanationScreen');
        }

        // ë™ì  í•´ì„¤ ìƒì„± (í‹€ë¦° ë‹µë§Œ)
        function generateDynamicExplanations() {
            const normalEmailExplanationsContainer = document.getElementById('normalEmailExplanations');
            normalEmailExplanationsContainer.innerHTML = '';

            // ìŠ¤íŒ¸ ë©”ì¼ í•´ì„¤ ìˆ¨ê¸°ê¸°/ë³´ì´ê¸° (í‹€ë¦° ê²ƒë§Œ ë³´ì´ê¸°)
            const spam1Answer = userAnswers.find(answer => answer.questionIndex === 0);
            const spam2Answer = userAnswers.find(answer => answer.questionIndex === 1);
            
            document.getElementById('spamExplanation1').style.display = 
                (spam1Answer && !spam1Answer.isCorrect) ? 'block' : 'none';
            document.getElementById('spamExplanation2').style.display = 
                (spam2Answer && !spam2Answer.isCorrect) ? 'block' : 'none';

            // í‹€ë¦° ë‹µë³€ë“¤ì— ëŒ€í•œ í•´ì„¤ë§Œ ë³´ì—¬ì£¼ê¸°
            const wrongAnswers = userAnswers.filter(answer => !answer.isCorrect);
            
            wrongAnswers.forEach(answer => {
                const email = answer.emailData;
                
                if (!email.isSpam) {
                    // ì •ìƒ ë©”ì¼ì„ ìŠ¤íŒ¸ìœ¼ë¡œ ì˜ëª» ë¶„ë¥˜í•œ ê²½ìš°
                    const explanationDiv = document.createElement('div');
                    explanationDiv.className = 'explanation-item normal';
                    
                    let explanationText = '';
                    if (answer.questionIndex === 2) {
                        explanationText = `- íšŒì‚¬ ë‚´ë¶€ ì¸ì‚¬íŒ€ì—ì„œ ë°œì†¡ëœ ê³µì‹ ë©”ì¼<br>
                        - ì‹¤ì œ íšŒì‚¬ ë„ë©”ì¸(@mycompany.co.kr) ì‚¬ìš©<br>
                        - êµ¬ì²´ì ì¸ ë°œë ¹ì¼ê³¼ ì—°ë½ì²˜ ì •ë³´ ì œê³µ<br>
                        - ê°œì¸ì •ë³´ë‚˜ ê¸ˆìœµì •ë³´ ìš”êµ¬ ì—†ìŒ<br>
                        - ì •ìƒì ì¸ ì—…ë¬´ ê´€ë ¨ ê³µì§€ì‚¬í•­`;
                    } else if (answer.questionIndex === 3) {
                        explanationText = `- ì‹¤ì œ ì€í–‰ ê³µì‹ ë„ë©”ì¸(@bank.co.kr) ì‚¬ìš©<br>
                        - êµ¬ì²´ì ì¸ ê³„ì¢Œì •ë³´ì™€ ìƒí’ˆëª… ì œê³µ<br>
                        - ë§Œê¸°ì¼ê³¼ ë§Œê¸°ê¸ˆì•¡ ëª…ì‹œ<br>
                        - ê³µì‹ ê³ ê°ì„¼í„° ë²ˆí˜¸ ì œê³µ<br>
                        - ì¶”ê°€ ê°œì¸ì •ë³´ ìš”êµ¬ ì—†ìŒ`;
                    } else if (answer.questionIndex === 4) {
                        explanationText = `- ì‹¤ì œ ì˜¨ë¼ì¸ì‡¼í•‘ëª° ë„ë©”ì¸(@onlinestore.co.kr) ì‚¬ìš©<br>
                        - êµ¬ì²´ì ì¸ ì£¼ë¬¸ë²ˆí˜¸ì™€ ì†¡ì¥ë²ˆí˜¸ ì œê³µ<br>
                        - ì‹¤ì œ ë°°ì†¡ì—…ì²´ ì •ë³´ ëª…ì‹œ<br>
                        - ì˜ˆìƒ ë„ì°©ì¼ê³¼ ê³ ê°ì„¼í„° ì •ë³´ ì œê³µ<br>
                        - ê°œì¸ì •ë³´ë‚˜ ê²°ì œì •ë³´ ìš”êµ¬ ì—†ìŒ`;
                    }
                    
                    explanationDiv.innerHTML = `
                        <h3>${answer.questionIndex + 1}ë²ˆ ë©”ì¼ (ì •ìƒ)</h3>
                        <h4>${email.subject}</h4>
                        <div class="explanation-points">
                            ${explanationText}
                        </div>
                    `;
                    
                    normalEmailExplanationsContainer.appendChild(explanationDiv);
                }
            });
        }

        // ê²Œì„ ì¬ì‹œì‘
        function restartGame() {
            startGame();
        }

        // ì´ˆê¸° í™”ë©´ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            showScreen('startScreen');
        });
    </script>
</body>
</html>
